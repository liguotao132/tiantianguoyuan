s.lazy={initialImageLoaded:!1,loadImageInSlide:function(a,e){if(void 0!==a&&(void 0===e&&(e=!0),0!==s.slides.length)){var l=s.slides.eq(a),i=l.find("."+s.params.lazyLoadingClass+":not(."+s.params.lazyStatusLoadedClass+"):not(."+s.params.lazyStatusLoadingClass+")");!l.hasClass(s.params.lazyLoadingClass)||l.hasClass(s.params.lazyStatusLoadedClass)||l.hasClass(s.params.lazyStatusLoadingClass)||(i=i.add(l[0])),0!==i.length&&i.each(function(){var a=$(this);a.addClass(s.params.lazyStatusLoadingClass);var i=a.attr("data-background"),d=a.attr("data-src"),t=a.attr("data-srcset"),r=a.attr("data-sizes");s.loadImage(a[0],d||i,t,r,!1,function(){if("undefined"!=typeof s&&null!==s&&s){if(i?(a.css("background-image",'url("'+i+'")'),a.removeAttr("data-background")):(t&&(a.attr("srcset",t),a.removeAttr("data-srcset")),r&&(a.attr("sizes",r),a.removeAttr("data-sizes")),d&&(a.attr("src",d),a.removeAttr("data-src"))),a.addClass(s.params.lazyStatusLoadedClass).removeClass(s.params.lazyStatusLoadingClass),l.find("."+s.params.lazyPreloaderClass+", ."+s.params.preloaderClass).remove(),s.params.loop&&e){var n=l.attr("data-swiper-slide-index");if(l.hasClass(s.params.slideDuplicateClass)){var o=s.wrapper.children('[data-swiper-slide-index="'+n+'"]:not(.'+s.params.slideDuplicateClass+")");s.lazy.loadImageInSlide(o.index(),!1)}else{var m=s.wrapper.children("."+s.params.slideDuplicateClass+'[data-swiper-slide-index="'+n+'"]');s.lazy.loadImageInSlide(m.index(),!1)}}s.emit("onLazyImageReady",s,l[0],a[0])}}),s.emit("onLazyImageLoad",s,l[0],a[0])})}},load:function(){var a,e=s.params.slidesPerView;if("auto"===e&&(e=0),s.lazy.initialImageLoaded||(s.lazy.initialImageLoaded=!0),s.params.watchSlidesVisibility)s.wrapper.children("."+s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide($(this).index())});else if(e>1)for(a=s.activeIndex;a<s.activeIndex+e;a++)s.slides[a]&&s.lazy.loadImageInSlide(a);else s.lazy.loadImageInSlide(s.activeIndex);if(s.params.lazyLoadingInPrevNext)if(e>1||s.params.lazyLoadingInPrevNextAmount&&s.params.lazyLoadingInPrevNextAmount>1){var l=s.params.lazyLoadingInPrevNextAmount,i=e,d=Math.min(s.activeIndex+i+Math.max(l,i),s.slides.length),t=Math.max(s.activeIndex-Math.max(i,l),0);for(a=s.activeIndex+e;a<d;a++)s.slides[a]&&s.lazy.loadImageInSlide(a);for(a=t;a<s.activeIndex;a++)s.slides[a]&&s.lazy.loadImageInSlide(a)}else{var r=s.wrapper.children("."+s.params.slideNextClass);r.length>0&&s.lazy.loadImageInSlide(r.index());var n=s.wrapper.children("."+s.params.slidePrevClass);n.length>0&&s.lazy.loadImageInSlide(n.index())}},onTransitionStart:function(){s.params.lazyLoading&&(s.params.lazyLoadingOnTransitionStart||!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded)&&s.lazy.load()},onTransitionEnd:function(){s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart&&s.lazy.load()}};