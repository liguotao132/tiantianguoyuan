s.scrollbar={isTouched:!1,setDragPosition:function(r){var a=s.scrollbar,t=(s.isHorizontal()?"touchstart"===r.type||"touchmove"===r.type?r.targetTouches[0].pageX:r.pageX||r.clientX:"touchstart"===r.type||"touchmove"===r.type?r.targetTouches[0].pageY:r.pageY||r.clientY)-a.track.offset()[s.isHorizontal()?"left":"top"]-a.dragSize/2,e=-s.minTranslate()*a.moveDivider,o=-s.maxTranslate()*a.moveDivider;t<e?t=e:t>o&&(t=o),t=-t/a.moveDivider,s.updateProgress(t),s.setWrapperTranslate(t,!0)},dragStart:function(r){var a=s.scrollbar;a.isTouched=!0,r.preventDefault(),r.stopPropagation(),a.setDragPosition(r),clearTimeout(a.dragTimeout),a.track.transition(0),s.params.scrollbarHide&&a.track.css("opacity",1),s.wrapper.transition(100),a.drag.transition(100),s.emit("onScrollbarDragStart",s)},dragMove:function(r){var a=s.scrollbar;a.isTouched&&(r.preventDefault?r.preventDefault():r.returnValue=!1,a.setDragPosition(r),s.wrapper.transition(0),a.track.transition(0),a.drag.transition(0),s.emit("onScrollbarDragMove",s))},dragEnd:function(r){var a=s.scrollbar;a.isTouched&&(a.isTouched=!1,s.params.scrollbarHide&&(clearTimeout(a.dragTimeout),a.dragTimeout=setTimeout(function(){a.track.css("opacity",0),a.track.transition(400)},1e3)),s.emit("onScrollbarDragEnd",s),s.params.scrollbarSnapOnRelease&&s.slideReset())},draggableEvents:!1!==s.params.simulateTouch||s.support.touch?s.touchEvents:s.touchEventsDesktop,enableDraggable:function(){var r=s.scrollbar,a=s.support.touch?r.track:document;$(r.track).on(r.draggableEvents.start,r.dragStart),$(a).on(r.draggableEvents.move,r.dragMove),$(a).on(r.draggableEvents.end,r.dragEnd)},disableDraggable:function(){var r=s.scrollbar,a=s.support.touch?r.track:document;$(r.track).off(r.draggableEvents.start,r.dragStart),$(a).off(r.draggableEvents.move,r.dragMove),$(a).off(r.draggableEvents.end,r.dragEnd)},set:function(){if(s.params.scrollbar){var r=s.scrollbar;r.track=$(s.params.scrollbar),s.params.uniqueNavElements&&"string"==typeof s.params.scrollbar&&r.track.length>1&&1===s.container.find(s.params.scrollbar).length&&(r.track=s.container.find(s.params.scrollbar)),r.drag=r.track.find(".swiper-scrollbar-drag"),0===r.drag.length&&(r.drag=$('<div class="swiper-scrollbar-drag"></div>'),r.track.append(r.drag)),r.drag[0].style.width="",r.drag[0].style.height="",r.trackSize=s.isHorizontal()?r.track[0].offsetWidth:r.track[0].offsetHeight,r.divider=s.size/s.virtualSize,r.moveDivider=r.divider*(r.trackSize/s.size),r.dragSize=r.trackSize*r.divider,s.isHorizontal()?r.drag[0].style.width=r.dragSize+"px":r.drag[0].style.height=r.dragSize+"px",r.divider>=1?r.track[0].style.display="none":r.track[0].style.display="",s.params.scrollbarHide&&(r.track[0].style.opacity=0)}},setTranslate:function(){if(s.params.scrollbar){var r,a=s.scrollbar,t=(s.translate,a.dragSize);r=(a.trackSize-a.dragSize)*s.progress,s.rtl&&s.isHorizontal()?(r=-r)>0?(t=a.dragSize-r,r=0):-r+a.dragSize>a.trackSize&&(t=a.trackSize+r):r<0?(t=a.dragSize+r,r=0):r+a.dragSize>a.trackSize&&(t=a.trackSize-r),s.isHorizontal()?(s.support.transforms3d?a.drag.transform("translate3d("+r+"px, 0, 0)"):a.drag.transform("translateX("+r+"px)"),a.drag[0].style.width=t+"px"):(s.support.transforms3d?a.drag.transform("translate3d(0px, "+r+"px, 0)"):a.drag.transform("translateY("+r+"px)"),a.drag[0].style.height=t+"px"),s.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1e3))}},setTransition:function(r){s.params.scrollbar&&s.scrollbar.drag.transition(r)}};